import"../chunks/CWj6FrbW.js";import{J as I,ad as U,aX as z,aY as G,am as j,_ as L,aZ as J,a_ as K,a$ as W,b0 as X,G as Y,n as T,aL as O,aM as R,aN as Z,an as D,o as H,p as Q,f as B,a as V,h as S,b as $,c as aa,d as ra,ah as ea,r as ta,s as ia,aU as sa,i as na}from"../chunks/CmhnZRd3.js";import{i as fa}from"../chunks/C_ZrcBJh.js";import{r as oa}from"../chunks/D0E1L-DL.js";import{g as ca,w as va,l as da}from"../chunks/BhrxRBf6.js";const ua=()=>performance.now(),h={tick:r=>requestAnimationFrame(r),now:()=>ua(),tasks:new Set};function P(){const r=h.now();h.tasks.forEach(a=>{a.c(r)||(h.tasks.delete(a),a.f())}),h.tasks.size!==0&&h.tick(P)}function la(r){let a;return h.tasks.size===0&&h.tick(P),{promise:new Promise(e=>{h.tasks.add(a={c:r,f:e})}),abort(){h.tasks.delete(a)}}}function E(r,a){va(()=>{r.dispatchEvent(new CustomEvent(a))})}function _a(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function q(r){const a={},e=r.split(";");for(const t of e){const[f,d]=t.split(":");if(!f||d===void 0)break;const c=_a(f.trim());a[c]=d.trim()}return a}const ha=r=>r;function x(r,a,e,t){var f=(r&K)!==0,d=(r&W)!==0,c=f&&d,m=(r&J)!==0,w=c?"both":f?"in":"out",o,s=a.inert,b=a.style.overflow,n,i;function k(){var v=Z,N=I;O(null),R(null);try{return o??(o=e()(a,(t==null?void 0:t())??{},{direction:w}))}finally{O(v),R(N)}}var u={is_global:m,in(){var v;if(a.inert=s,!f){i==null||i.abort(),(v=i==null?void 0:i.reset)==null||v.call(i);return}d||n==null||n.abort(),E(a,"introstart"),n=g(a,k(),i,1,()=>{E(a,"introend"),n==null||n.abort(),n=o=void 0,a.style.overflow=b})},out(v){if(!d){v==null||v(),o=void 0;return}a.inert=!0,E(a,"outrostart"),i=g(a,k(),n,0,()=>{E(a,"outroend"),v==null||v()})},stop:()=>{n==null||n.abort(),i==null||i.abort()}},_=I;if((_.transitions??(_.transitions=[])).push(u),f&&ca){var p=m;if(!p){for(var l=_.parent;l&&(l.f&U)!==0;)for(;(l=l.parent)&&(l.f&z)===0;);p=!l||(l.f&G)!==0}p&&j(()=>{L(()=>u.in())})}}function g(r,a,e,t,f){var d=t===1;if(X(a)){var c,m=!1;return Y(()=>{if(!m){var _=a({direction:d?"in":"out"});c=g(r,_,e,t,f)}}),{abort:()=>{m=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(e==null||e.deactivate(),!(a!=null&&a.duration))return f(),{abort:T,deactivate:T,reset:T,t:()=>t};const{delay:w=0,css:o,tick:s,easing:b=ha}=a;var n=[];if(d&&e===void 0&&(s&&s(0,1),o)){var i=q(o(0,1));n.push(i,i)}var k=()=>1-t,u=r.animate(n,{duration:w,fill:"forwards"});return u.onfinish=()=>{u.cancel();var _=(e==null?void 0:e.t())??1-t;e==null||e.abort();var p=t-_,l=a.duration*Math.abs(p),v=[];if(l>0){var N=!1;if(o)for(var A=Math.ceil(l/16.666666666666668),M=0;M<=A;M+=1){var C=_+p*b(M/A),F=q(o(C,1-C));v.push(F),N||(N=F.overflow==="hidden")}N&&(r.style.overflow="hidden"),k=()=>{var y=u.currentTime;return _+p*b(y/l)},s&&la(()=>{if(u.playState!=="running")return!1;var y=k();return s(y,1-y),!0})}u=r.animate(v,{duration:l,fill:"forwards"}),u.onfinish=()=>{k=()=>t,s==null||s(t,1-t),f()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=T)},deactivate:()=>{f=T},reset:()=>{t===0&&(s==null||s(1,0))},t:()=>k()}}function ma(r,a,e=a){da(r,"change",t=>{var f=t?r.defaultChecked:r.checked;e(f)}),(H&&r.defaultChecked!==r.checked||L(a)==null)&&e(r.checked),D(()=>{var t=a();r.checked=!!t})}function ba(r){return Math.sin(-13*(r+1)*Math.PI/2)*Math.pow(2,-10*r)+1}var ka=B('<div class="centered svelte-8aqkg4"><span class="svelte-8aqkg4">transitions!</span></div>'),pa=B('<label><input type="checkbox"/> visible</label> <!>',1);function Ma(r,a){Q(a,!0);let e=sa(!0);function t(o,{duration:s}){return{duration:s,css:(b,n)=>{const i=ba(b);return`
					transform: scale(${i}) rotate(${i*3*1080}deg);
					color: hsl(
						${Math.trunc(b*360)},
						${Math.min(100,1e3*n)}%,
						${Math.min(50,500*n)}%
					);`}}}var f=pa(),d=V(f),c=ra(d);oa(c),ea(),ta(d);var m=ia(d,2);{var w=o=>{var s=ka();x(1,s,()=>t,()=>({duration:8e3})),x(2,s,()=>t,()=>({duration:8e3})),$(o,s)};fa(m,o=>{S(e)&&o(w)})}ma(c,()=>S(e),o=>na(e,o)),$(r,f),aa()}export{Ma as component};
